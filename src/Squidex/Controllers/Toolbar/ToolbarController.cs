using Microsoft.AspNetCore.Mvc;
using NSwag.Annotations;
using RestSharp;
using Squidex.Controllers.Toolbar.Models;
using Squidex.Pipeline;

namespace Squidex.Controllers.Toolbar
{
	[SwaggerIgnore]
	public class ToolbarController : Controller
	{
		private IRestResponse response;

		/// <summary>
		/// Get your CP Products.
		/// </summary>
		/// <returns>
		/// 200 => CP Products returned.
		/// </returns>
		/// <remarks>
		/// You can only retrieve the list of CP Products when you are authenticated as a user (OpenID implicit flow).
		/// You will retrieve all CP Products, where you have access to in CivicPlusPlatform.
		/// </remarks>
		[HttpGet]
	    [Route("cptoolbar/products/")]
	    [ProducesResponseType(typeof(CpProducts[]), 200)]
	    [ApiCosts(1)]
		public IActionResult GetProductDropdown()
		{
			var client = new RestClient("https://civiccenter.cpqa.ninja/api/products/user");
			var request = new RestRequest(Method.POST);
			request.AddHeader("authorization", "Bearer XDK3wlOKz3vv9hsAWkA53SyoyQCMLjetvwnA-5_muz4bV3ZWQ5FBcI_0GewWKkQFwtQpfu9A2tv8vDgwoh4XgH-NoWCZEn3BKUwe8EhJO5V9rcLEbJyBbFG_Cnvr-1wvGm7Voqa3I_jge5YThEwa_ivJJcjtsVdYAIz_8bBTtzmhd8XlC78QcH1P3BXPB5Pn5wrmvtz8hxVXQJVNim0nWm2tW72JACdNZC0Hq0UOiqvoaysL71rKmuqLSgYx4Nh_B1uu0BI7GRLxgav6xQUye8RAji77StbX1d9plKCgqZJr7hfYOq9TSKfjY6I_9fiN18seyLTjlKG7bpKTUkSImOUEfek00TVxvRvvnzIEfZNbMSAeXYe6KkjaxHunqe2KQ2IboTc7d-bmByT-DvxO_Ipz68vxdve4G_M3sCybU5syqn9p8cSnQz8d9cL8d0-wKmS_2IVrBP5IhnCmyLIr6tTUEUa1WDp1NAXia76GFimlRagsz3Ok6NhlkkIpZA6ag-MNGrvyCzqIQ6fmdyVIhKdoRhiCxjqacOTLm2dNFyD0B9E9H-h8lMD_3W7DbGU3zNQAp3xVtwxSAfbrVoDKzmjNCV0rUSG8zo4RUfrAdQW29QhA4ylOm3Y8sSYkbA8bmEHJ3APc958dnk0iJ3K7yZjHA33Mx6KAb5Cj9gaHS6ceSTIVRUqBo9RiKR3vF407f5CCTjMhUUyu2vzf4Cnj1_-sRGH6a_BOiFfKvne2-ra2uXEt576Ns4Jwv7d6X7YXnqW8ZHjCWA_w6Yt7pfkUFFBdUlEsQXwgNSCOJb3wlJz6j4fu1JOQyRN_7HIEhnGWF85o26FC3jDx_R_77P0PDO1sbz95uW8-sElgxUZv3O2nS5n65YuxFy6R1rLwnehtEij6detsemAcvO0eDgbiectPZNNKJfbvUCOpxhoioe_Zq5DNpLcfIB7mW_amxNpO__TDjiHe6gYBORqegjEnjhOXn6xa50-aaLxyZt66O6z3A3oT9zAuD5wTp2wIoLbrevHin0hLbHfMTQpe66fDHVLnLMHpEzCsfHqqkDeUO2HDbqNq-wA05KrPNRFyaAANQ-F8HXbbTQqLIk166ja8DrCS3oFvcJ0-VhmuTd2DnwjGylnVx9gYn4jH221eqgKVEDKePRY0OrXZUlO2-JukzOst3d8YWeu24kowt9OS8pwdzf1zXiUUFLc7assG0zvCJg5NIais8hJZjkFgGjKwvEUFCg1GaMRc5x1LIW_molw2r4p75zyamCCDXouWc0rj_6JQqqRSD_yWpvfd6Ut3jCsrXzj9ocUmA4xs9-kjWwlK7G2Vh7t0gGIOJFapna79m6PrIafnk8ywo4jCLHOteHrZTebfDqSRjZGzkdEj4xk37rxBOTWXadCmvaK46TxMM_WDwtcVgH7_oTz2DxJw9ffmGX-8lijlWAfML67MBpzBnDJjdVvfdeIez9d0sgB20raXeR2pCtBpxAkA4jpbhFI6CIcMvrNJ0YrsP1HL3_ws5qrpoM1aIrdoIp_bA1YdBToUHMxzLScw5dLgAtO3H-6IbCtr25FyyutW7D4ww87r6JCXmnGGu3tDIJt4E0Sjy6ZqJzKma2KxEs0XS2kWRehe7Or1uChVyqDf51SMBjzRFBUGp8sJMVgPHg4lBnULD5ruqe9TBM_v1QLzKmtyECbeRCHTi86SJVpZKs7fbYCe0bZ3EI2C4D7mtfFfMuFufy2OfOFF1r2vJYr1najhtjz4ycgObYMYjY2NEvDVSkckUV1XhHTKUp2jrU1BeAyH1PXNucpgTQYKyXij0nQDBkF1ENWcvZX3mvU4afPY8dXteX0nVPvbSDlf7nySpRjNaMKQReBbMbMJb4s6utOcUIvJvVoleDH5Gn2wIVFAYsANEcHwFYsIGGFJXxFbwxpFaRJjCatyzXGNYkIbonfQZprfIB2PYiYdwrBSaGiDbziOb3xqXXgVZtHT0jcXY7F4Q_bPTXOiA6t9uwz64GnA8iMJC53WQL_phbT1iTUAFNjSnJ5UuUARQhId02yIEHaqefBviGaZ-jvcPffLhJcnjGcN11lVlr9IJMFHooFEj7-LabfQGW_zxFfZGWLbJ-uiKodPb67gpvXwbLxneIISfpxEYKPJm3jFWDFRMwl1ZWJrVf4KaITd5PPVsT2yH_PCCaK1y_6NU52auyQMVa3xwUW8L5V3QljNwakpDBVXb4uwbHHbs2bN0SH-APnxQNUK5QOIP-Cp2nAlWykqbWrf4LvPV2kpgT04XaxkqOrsCQyakKlLbQ-c8M5UzzQnTF5TuUE71cW3DbYyf6jSadG6dhIAyTG3DAA4BKekeO-zK3vBK9oiz9_4u_48Ryd8TWrIPafr9DRfJIyoKB8otQn7QfGMbnBF-FHGTkAsPElKKcrx_8rF7J_OhLpeXzBoXU_XoQ6KMGtG-SxNGcR-LRsNNimGwG97w0HHNgt1hxffgV5Nn_qdCzowvV8V-wT9sh2ZYWoqvEP8KDC4C85AAk1Zb-W7T_Ip8udRRBBu-zsGMA8wO_hmimGQPXcMD3HPgTKaW-udGMqJAQXoHQmDJ2gc9C7khvaoc4L2UrskvaydJLRjZ3ySZrXx5xCI7rp6JnwAJwVCuiBaX3IUo28i5mp_yU8rTSxcFsQKakVHyTQ7orBx9cZ06QbBVpDU-nYq0k-HA7OZj7BVcJMxcW23soXkQ3RPFneyeKmc6zn20PXpGUtsAOdW--i1OEDtbzBHUPK3MUi8dUpRdfTx-Ix1SOaoKn6VI020kEBbeUCEmvyIJasYUpOAQ0_aCH1sKA3xNuZlPk3bPaL2EOrYf30Mh76os3fETpPV0VbSsH78EuaSWJidxcS0hRz5JdpAKhHAgZjNG7_vI1fUwB1YYMvL7wfaYXZLPRUbEJbDpkvu_wikww7n_rlOdpeF_fOLZkOYb8Ua52B59gPDc6xjMo9S7h_fLHUqlLpk2L8ZyhXzaDV4eX8ur_X5DjKmfo1SfLDD4bpzEMoWsfAD4rMcFqIXz3CQgeoPw9cjQ84dkAdwip3nEbQQFyP1nrDYWuX3VxvaB1Hh7Z9pbm0A13nWhUx15UFw5snenC2RmtnXU3Kzv6tVTnv7yq4NDBuiNDD5ttNEEpmgEmgbePJLFedafk7iEjdywm3mUYkEC5brXvWqrEM_PjP4yNjIU8DS7fvnlDOD8gucjYJ099vDnycvi6zCocYj7i4QpbvspyPgicYtNWr0lbtaUUhHLQte5gbDMH4q9Bk15W07cFlHjmcDkSmVi_th2GgqrUb5HL9-bj39cEO7ONnHsUM0ounEz_S-oisYnxc3v_M-UM7aTiV8SwfhboK9_EDNXOdJm12izgh028PVRKk");
			request.AddParameter("application/x-www-form-urlencoded", "Email=vandyke@civicplus.com", ParameterType.RequestBody);
			var test = client.ExecuteAsync(request, resp =>
			{
				response = resp;
			});

			return Ok(response);
		}

    }
}
